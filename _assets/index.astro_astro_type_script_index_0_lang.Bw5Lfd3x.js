const p=document.getElementById("hamburger"),r=document.querySelector(".sidebar"),d=document.getElementById("sidebar-overlay");p?.addEventListener("click",()=>{r?.classList.toggle("open"),d?.classList.toggle("open")});d?.addEventListener("click",()=>{r?.classList.remove("open"),d?.classList.remove("open")});const c=document.getElementById("copy-btn");c?.addEventListener("click",()=>{navigator.clipboard.writeText("npm install noshift.js").then(()=>{c.classList.add("copied"),setTimeout(()=>c.classList.remove("copied"),2e3)})});const m={en:{tagline:"Write JavaScript without pressing the Shift key.",description:"A joke language that replaces every shift-required symbol with a <code>^</code>-prefixed sequence. <code>.nsjs</code> files compile directly to plain JavaScript via the <code>nsc</code> CLI.","btn-get-started":"Get Started →","feat1-title":"No Shift Required","feat1-desc":"All shifted symbols are replaced by simple <code>^</code> + key sequences based on a JIS keyboard layout.","feat2-title":"Instant Compilation","feat2-desc":"The <code>nsc</code> CLI compiles <code>.nsjs</code> files to standard JavaScript in milliseconds.","feat3-title":"VS Code Support","feat3-desc":"Syntax highlighting and auto-complete via the official VS Code extension.","example-title":"Quick Example","compiles-to":"Compiles to:","install-label":"Install","stat-version-label":"Version","stat-dl-label":"Monthly Downloads","stat-pub-label":"Last Published","link-prettier-title":"Prettier Plugin","link-vscode-title":"VS Code Extension",gsHref:"/en/getting-started/","btn-playground":"Playground",playHref:"/en/playground/"},ja:{tagline:"Shift キーを押さずに JavaScript を書こう。",description:"Shift が必要な記号を <code>^</code> プレフィックスのシーケンスに置き換える Joke 言語です。<code>.nsjs</code> ファイルは <code>nsc</code> CLI で JavaScript にコンパイルされます。","btn-get-started":"はじめる →","feat1-title":"Shift 不要","feat1-desc":"すべての Shift 記号は JIS 配列に基づく <code>^</code> + キーのシーケンスに置き換わります。","feat2-title":"即座にコンパイル","feat2-desc":"<code>nsc</code> CLI が <code>.nsjs</code> ファイルをミリ秒で JavaScript にコンパイルします。","feat3-title":"VS Code 対応","feat3-desc":"公式の VS Code 拡張機能でシンタックスハイライトと自動補完が利用可能。","example-title":"簡単な例","compiles-to":"コンパイル後:","install-label":"インストール","stat-version-label":"バージョン","stat-dl-label":"月間ダウンロード数","stat-pub-label":"最終公開日","link-prettier-title":"Prettier プラグイン","link-vscode-title":"VS Code 拡張機能",gsHref:"/ja/getting-started/","btn-playground":"プレイグラウンド",playHref:"/ja/playground/"}};function f(n){const t=m[n];if(!t)return;for(const[e,i]of Object.entries(t)){if(e==="gsHref")continue;const l=document.getElementById(e);l&&(e.includes("desc")||e==="description"?l.innerHTML=i:l.textContent=i)}const s=document.getElementById("btn-get-started");s&&t.gsHref&&(s.href=t.gsHref);const o=document.getElementById("btn-playground");o&&t.playHref&&(o.href=t.playHref);const a=document.getElementById("stat-pub-value");if(a?.dataset.raw){const e=new Date(a.dataset.raw);isNaN(e.getTime())||(a.textContent=e.toLocaleDateString(n==="ja"?"ja-JP":"en-US",{year:"numeric",month:"short",day:"numeric"}))}document.querySelectorAll(".sidebar-nav a[href^='/en/'], .sidebar-nav a[href^='/ja/']").forEach(e=>{e.href=e.href.replace(/\/(en|ja)\//,`/${n}/`)}),document.querySelectorAll(".lang-btn").forEach(e=>{e.classList.toggle("active",e.textContent?.trim()===n.toUpperCase())}),document.documentElement.lang=n}document.querySelectorAll(".sidebar-footer .lang-btn").forEach(n=>{n.addEventListener("click",()=>{const t=n.textContent?.trim().toLowerCase();(t==="en"||t==="ja")&&f(t)})});const u=navigator.language.startsWith("ja")?"ja":"en";u==="ja"&&f("ja");(async()=>{try{const[n,t]=await Promise.all([fetch("https://registry.npmjs.org/noshift.js"),fetch("https://api.npmjs.org/downloads/point/last-month/noshift.js")]);if(n.ok){const s=await n.json(),o=s["dist-tags"]?.latest??"";if(o){const e=document.getElementById("stat-version-value");e&&(e.textContent=o)}const a=s.time?.[o]??"";if(a){const e=document.getElementById("stat-pub-value");if(e){e.dataset.raw=a;const i=document.documentElement.lang||"en";e.textContent=new Date(a).toLocaleDateString(i==="ja"?"ja-JP":"en-US",{year:"numeric",month:"short",day:"numeric"})}}}if(t.ok){const o=(await t.json()).downloads??0,a=document.getElementById("stat-dl-value");a&&(a.textContent=o.toLocaleString("en-US"))}}catch{}})();
