const m=document.getElementById("hamburger"),d=document.querySelector(".sidebar"),l=document.getElementById("sidebar-overlay");m?.addEventListener("click",()=>{d?.classList.toggle("open"),l?.classList.toggle("open")});l?.addEventListener("click",()=>{d?.classList.remove("open"),l?.classList.remove("open")});const c=document.getElementById("copy-btn");c?.addEventListener("click",()=>{navigator.clipboard.writeText("npm install noshift.js").then(()=>{c.classList.add("copied"),setTimeout(()=>c.classList.remove("copied"),2e3)})});const f={en:{tagline:"Write JavaScript without pressing the Shift key.",description:"A joke language that replaces every shift-required symbol with a <code>^</code>-prefixed sequence. <code>.nsjs</code> files compile directly to plain JavaScript via the <code>nsc</code> CLI.","btn-get-started":"Get Started →","feat1-title":"No Shift Required","feat1-desc":"All shifted symbols are replaced by simple <code>^</code> + key sequences based on a JIS keyboard layout.","feat2-title":"Instant Compilation","feat2-desc":"The <code>nsc</code> CLI compiles <code>.nsjs</code> files to standard JavaScript in milliseconds.","feat3-title":"VS Code Support","feat3-desc":"Syntax highlighting and auto-complete via the official VS Code extension.","example-title":"Quick Example","compiles-to":"Compiles to:","install-label":"Install","stat-version-label":"Version","stat-dl-label":"Monthly Downloads","stat-pub-label":"Last Published","link-vscode-title":"VS Code Extension",gsHref:"/en/getting-started/"},ja:{tagline:"Shift キーを押さずに JavaScript を書こう。",description:"Shift が必要な記号を <code>^</code> プレフィックスのシーケンスに置き換える Joke 言語です。<code>.nsjs</code> ファイルは <code>nsc</code> CLI で JavaScript にコンパイルされます。","btn-get-started":"はじめる →","feat1-title":"Shift 不要","feat1-desc":"すべての Shift 記号は JIS 配列に基づく <code>^</code> + キーのシーケンスに置き換わります。","feat2-title":"即座にコンパイル","feat2-desc":"<code>nsc</code> CLI が <code>.nsjs</code> ファイルをミリ秒で JavaScript にコンパイルします。","feat3-title":"VS Code 対応","feat3-desc":"公式の VS Code 拡張機能でシンタックスハイライトと自動補完が利用可能。","example-title":"簡単な例","compiles-to":"コンパイル後:","install-label":"インストール","stat-version-label":"バージョン","stat-dl-label":"月間ダウンロード数","stat-pub-label":"最終公開日","link-vscode-title":"VS Code 拡張機能",gsHref:"/ja/getting-started/"}};function r(t){const n=f[t];if(!n)return;for(const[e,a]of Object.entries(n)){if(e==="gsHref")continue;const i=document.getElementById(e);i&&(e.includes("desc")||e==="description"?i.innerHTML=a:i.textContent=a)}const s=document.getElementById("btn-get-started");s&&n.gsHref&&(s.href=n.gsHref);const o=document.getElementById("stat-pub-value");if(o?.dataset.raw){const e=new Date(o.dataset.raw);isNaN(e.getTime())||(o.textContent=e.toLocaleDateString(t==="ja"?"ja-JP":"en-US",{year:"numeric",month:"short",day:"numeric"}))}document.querySelectorAll(".sidebar-nav a[href^='/en/'], .sidebar-nav a[href^='/ja/']").forEach(e=>{e.href=e.href.replace(/\/(en|ja)\//,`/${t}/`)}),document.querySelectorAll(".lang-btn").forEach(e=>{e.classList.toggle("active",e.textContent?.trim()===t.toUpperCase())}),document.documentElement.lang=t}document.querySelectorAll(".sidebar-footer .lang-btn").forEach(t=>{t.addEventListener("click",()=>{const n=t.textContent?.trim().toLowerCase();(n==="en"||n==="ja")&&r(n)})});const u=navigator.language.startsWith("ja")?"ja":"en";u==="ja"&&r("ja");(async()=>{try{const[t,n]=await Promise.all([fetch("https://registry.npmjs.org/noshift.js"),fetch("https://api.npmjs.org/downloads/point/last-month/noshift.js")]);if(t.ok){const s=await t.json(),o=s["dist-tags"]?.latest??"";if(o){const a=document.getElementById("stat-version-value");a&&(a.textContent=o)}const e=s.time?.[o]??"";if(e){const a=document.getElementById("stat-pub-value");if(a){a.dataset.raw=e;const i=document.documentElement.lang||"en";a.textContent=new Date(e).toLocaleDateString(i==="ja"?"ja-JP":"en-US",{year:"numeric",month:"short",day:"numeric"})}}}if(n.ok){const o=(await n.json()).downloads??0,e=document.getElementById("stat-dl-value");e&&(e.textContent=o.toLocaleString("en-US"))}}catch{}})();
