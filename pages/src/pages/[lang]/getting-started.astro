---
import DocsLayout from "../../layouts/DocsLayout.astro";
import CodeBlock from "../../components/CodeBlock.astro";
import { t, type Lang } from "../../i18n/translations";

export function getStaticPaths() {
  return [{ params: { lang: "en" } }, { params: { lang: "ja" } }];
}

const { lang } = Astro.params as { lang: Lang };
---

<DocsLayout
  lang={lang}
  title={t(lang, "gs.title") + "  NoShift.js"}
  currentPath={`/${lang}/getting-started/`}
  prev={{ href: "/", title: t(lang, "nav.home") }}
  next={{ href: `/${lang}/syntax/`, title: t(lang, "nav.syntax") }}
>
  <h1>{t(lang, "gs.title")}</h1>

  <h2>{t(lang, "gs.installTitle")}</h2>
  <p set:html={t(lang, "gs.installDesc")} />

  <h3>{t(lang, "gs.installGlobalTitle")}</h3>
  <p set:html={t(lang, "gs.installGlobalDesc")} />
  <CodeBlock lang="bash" code="npm install -g noshift.js@latest" />

  <h3>{t(lang, "gs.installLocalTitle")}</h3>
  <p set:html={t(lang, "gs.installLocalDesc")} />
  <CodeBlock lang="bash" code="npm install -D noshift.js@latest" />

  <h2>{t(lang, "gs.createTitle")}</h2>
  <p set:html={t(lang, "gs.createDesc")} />
  <CodeBlock lang="bash" code={`# Global\nnsc create my-project\n\n# Local\nnpx nsc create my-project`} />
  <div class="callout">
    <p set:html={t(lang, "gs.createNote")} />
  </div>

  <h2>{t(lang, "gs.configTitle")}</h2>
  <p set:html={t(lang, "gs.configDesc")} />
  <CodeBlock
    lang="json"
    code={`{
  "compileroptions": {
    "rootdir": "src",
    "outdir": "dist",
    "warnuppercase": true,
    "capitalizeinstrings": true
  }
}`}
  />
  <ul>
    <li>
      <strong>rootdir</strong>  <span set:html={t(lang, "gs.configRootDir")} />
    </li>
    <li>
      <strong>outdir</strong>  <span set:html={t(lang, "gs.configOutDir")} />
    </li>
    <li>
      <strong>warnuppercase</strong>  <span
        set:html={t(lang, "gs.configWarnUppercase")}
      />
    </li>
    <li>
      <strong>capitalizeinstrings</strong>  <span
        set:html={t(lang, "gs.configCapitalizeInStrings")}
      />
    </li>
  </ul>

  <h2>{t(lang, "gs.compileTitle")}</h2>
  <p set:html={t(lang, "gs.compileDesc")} />
  <CodeBlock lang="bash" code="nsc" />
  <p set:html={t(lang, "gs.compileLocalNote")} />
  <CodeBlock lang="bash" code="npx nsc" />
  <p set:html={t(lang, "gs.runDesc")} />
  <CodeBlock lang="bash" code={`# Global\nnsc run src/index.nsjs\n\n# Local\nnpx nsc run src/index.nsjs`} />

  <h2>{t(lang, "gs.fileExt")}</h2>
  <p set:html={t(lang, "gs.fileExtDesc")} />
</DocsLayout>
