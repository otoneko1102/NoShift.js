---
import DocsLayout from "../../layouts/DocsLayout.astro";
import CodeBlock from "../../components/CodeBlock.astro";
import { t, type Lang } from "../../i18n/translations";

export function getStaticPaths() {
  return [{ params: { lang: "en" } }, { params: { lang: "ja" } }];
}

const { lang } = Astro.params as { lang: Lang };
---

<DocsLayout
  lang={lang}
  title={t(lang, "nav.config") + " | NoShift.js"}
  currentPath={`/${lang}/config/`}
  prev={{ href: `/${lang}/cli/`, title: t(lang, "nav.cli") }}
  next={{ href: `/${lang}/linter/`, title: t(lang, "nav.useLinter") }}
>
  <h1>{t(lang, "nav.config")}</h1>
  <p set:html={t(lang, "config.introDesc")} />

  <h2>{t(lang, "config.fileTitle")}</h2>
  <p set:html={t(lang, "config.fileDesc")} />
  <CodeBlock lang="bash" code="nsc init" />

  <h2>{t(lang, "config.defaultTitle")}</h2>
  <p set:html={t(lang, "config.defaultDesc")} />
  <CodeBlock
    lang="json"
    code={`{
  "compileroptions": {
    "rootdir": "src",
    "outdir": "dist",
    "warnuppercase": true,
    "capitalizeinstrings": true,
    "noheader": false
  }
}`}
  />

  <h2>{t(lang, "config.optionsTitle")}</h2>
  <table>
    <thead>
      <tr>
        <th>Option</th>
        <th>Default</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>{t(lang, "config.rootdirLabel")}</code></td>
        <td><code>"src"</code></td>
        <td set:html={t(lang, "config.rootdirDesc")} />
      </tr>
      <tr>
        <td><code>{t(lang, "config.outdirLabel")}</code></td>
        <td><code>"dist"</code></td>
        <td set:html={t(lang, "config.outdirDesc")} />
      </tr>
      <tr>
        <td><code>{t(lang, "config.warnuppercaseLabel")}</code></td>
        <td><code>true</code></td>
        <td set:html={t(lang, "config.warnuppercaseDesc")} />
      </tr>
      <tr>
        <td><code>{t(lang, "config.capitalizeinstringsLabel")}</code></td>
        <td><code>true</code></td>
        <td set:html={t(lang, "config.capitalizeinstringsDesc")} />
      </tr>
      <tr>
        <td><code>{t(lang, "config.noheaderLabel")}</code></td>
        <td><code>false</code></td>
        <td set:html={t(lang, "config.noheaderDesc")} />
      </tr>
    </tbody>
  </table>

  <h2>{t(lang, "config.disableCapitalizeTitle")}</h2>
  <p set:html={t(lang, "config.disableCapitalizeDesc")} />
  <CodeBlock
    lang="json"
    code={`{
  "compileroptions": {
    "capitalizeinstrings": false
  }
}`}
  />
</DocsLayout>
